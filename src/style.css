/* =========================
   Base design tokens
   ========================= */
:root {
  --bg: #0f1012;
  --text: #e9e9ee;
  --muted: #b7b7c4;
  --panel: #15161a;
  --card: #1a1b21;
  --border: #2a2b32;
  --link: #8ea0ff;
  --link-hover: #b4bfff;

  --radius: 12px;
  --shadow-lg: 0 10px 30px rgba(0,0,0,0.35);

  color-scheme: dark;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, "Helvetica Neue",
    Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol";
  font-weight: 400;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

@media (prefers-color-scheme: light) {
  :root {
    --bg: #f8f9fb;
    --text: #17171b;
    --muted: #5b5b67;
    --panel: #ffffff;
    --card: #ffffff;
    --border: #e6e7ee;
    --link: #3a57ff;
    --link-hover: #223df8;
    color-scheme: light;
  }
}

/* =========================
   Reset-ish
   ========================= */
*,
*::before,
*::after { box-sizing: border-box; }

html, body { height: 100%; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--text);
}

/* Improve default text flow */
img, svg, video, canvas, audio, iframe, embed, object {
  display: block;
  max-width: 100%;
}
p, h1, h2, h3, h4, h5, h6 { overflow-wrap: anywhere; }
:focus-visible {
  outline: 2px solid var(--link);
  outline-offset: 2px;
  border-radius: 6px;
}

/* =========================
   Typography
   ========================= */
h1 { font-size: clamp(1.9rem, 1.2rem + 2.2vw, 3rem); line-height: 1.15; margin: 0 0 0.6rem; }
h2 { font-size: clamp(1.4rem, 1.1rem + 1.2vw, 2.1rem); line-height: 1.2; margin: 1.4rem 0 0.4rem; }
h3 { font-size: clamp(1.1rem, 1rem + 0.6vw, 1.4rem); line-height: 1.25; margin: 1.1rem 0 0.3rem; }
p  { margin: 0.6rem 0; color: var(--text); }

/* Links */
a {
  color: var(--link);
  text-decoration: none;
}
a:hover { color: var(--link-hover); text-decoration: underline; }

/* =========================
   Layout helpers
   ========================= */
.container {
  width: 100%;
  max-width: 900px;
  margin: 1.2rem auto 3rem;
  padding: 0 1rem;
}

#app {
  /* place page content here; no forced centering */
}

/* Cards / panels (optional utility) */
.card {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  padding: 1rem;
}

/* Visually hidden utility (for a11y) */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}

/* =========================
   Header + Hamburger Nav
   ========================= */
.site-header {
  display: grid;
  grid-template-columns: auto 1fr auto;
  align-items: center;
  gap: 0.75rem;
  padding: 0.6rem 1rem;
  position: sticky;
  top: 0;
  background: var(--panel);
  border-bottom: 1px solid var(--border);
  z-index: 100;
}

/* Brand in the middle; remove this element in HTML if you want *only* the hamburger */
.brand {
  font-weight: 700;
  color: var(--text);
  text-decoration: none;
  justify-self: center;
}

.header-spacer { width: 42px; height: 1px; } /* keeps brand centered if present */

/* Hamburger button */
.nav-toggle {
  display: inline-flex;
  width: 42px;
  height: 38px;
  border-radius: 10px;
  background: var(--panel);
  border: 1px solid var(--border);
  align-items: center;
  justify-content: center;
  gap: 4px;
  cursor: pointer;
}
.nav-toggle .bar {
  display: block;
  width: 20px;
  height: 2px;
  background: var(--text);
  transition: transform 160ms ease, opacity 160ms ease;
}

/* Vertical stack menu (hidden by default) */
.nav {
  position: fixed;
  top: 64px;
  left: 12px;
  display: grid;
  gap: 0.6rem;
  padding: 0.75rem;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow-lg);
  min-width: 180px;

  transform-origin: top left;
  transform: scale(0.98);
  opacity: 0;
  pointer-events: none;
  transition: opacity 140ms ease, transform 140ms ease;
}

.nav a {
  color: var(--text);
  opacity: 0.95;
  padding: 0.25rem 0.15rem;
  border-radius: 8px;
}
.nav a:hover {
  background: color-mix(in hsl, var(--link) 12%, transparent);
  text-decoration: none;
}

/* Open state toggled by nav.ts */
.nav[data-open="true"] {
  opacity: 1;
  transform: scale(1);
  pointer-events: auto;
}

/* Burger transforms to "X" when menu open */
.nav-toggle[aria-expanded="true"] .bar:nth-child(1) {
  transform: translateY(6px) rotate(45deg);
}
.nav-toggle[aria-expanded="true"] .bar:nth-child(2) {
  opacity: 0;
}
.nav-toggle[aria-expanded="true"] .bar:nth-child(3) {
  transform: translateY(-6px) rotate(-45deg);
}

/* Prevent background scroll when menu open (body.menu-open toggled by nav.ts) */
body.menu-open { overflow: hidden; }

/* =========================
   Buttons (optional utility)
   ========================= */
button, .btn {
  font: inherit;
  color: var(--text);
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 0.5rem 0.8rem;
  cursor: pointer;
}
button:hover, .btn:hover {
  background: color-mix(in hsl, var(--link) 10%, var(--card));
  border-color: color-mix(in hsl, var(--link) 30%, var(--border));
}

/* =========================
   Tables / lists (gentle defaults)
   ========================= */
table {
  width: 100%;
  border-collapse: collapse;
  margin: 0.8rem 0;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  overflow: hidden;
}
th, td {
  padding: 0.6rem 0.7rem;
  border-bottom: 1px solid var(--border);
  text-align: left;
}
tbody tr:hover {
  background: color-mix(in hsl, var(--link) 6%, transparent);
}

/* =========================
   Code blocks
   ========================= */
pre, code, kbd, samp {
  font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono",
    monospace;
}
pre {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 0.8rem;
  overflow: auto;
}

/* =========================
   Small screens polish
   ========================= */
@media (max-width: 480px) {
  .container { padding: 0 0.8rem; }
  .site-header { padding: 0.5rem 0.7rem; }
  .nav { top: 58px; left: 8px; }
}

/* ==== CV print isolation ==== */
@media print {
  /* Hide everything except the Shadow DOM host with the CV */
  body * {
    visibility: hidden !important;
  }

  /* Show only the host and its contents */
  #cv-shadow-host,
  #cv-shadow-host * {
    visibility: visible !important;
  }

  /* Make the host fill the printable area */
  .cv-container {
    margin: 0 !important;
    padding: 0 !important;
    max-width: none !important;
  }
  #cv-shadow-host {
    display: block !important;
    position: static !important;
  }

  /* Donâ€™t print the sticky header / nav */
  .site-header,
  .nav {
    display: none !important;
  }

  /* White background for paper */
  body { background: #fff !important; }
}

.chip-row { display: flex; flex-wrap: wrap; gap: .4rem; }
.chip {
  border: 1px solid var(--border);
  background: var(--panel);
  border-radius: 999px;
  padding: .25rem .6rem;
  cursor: pointer;
}
.chip--active {
  background: color-mix(in hsl, var(--link) 18%, var(--panel));
  border-color: color-mix(in hsl, var(--link) 40%, var(--border));
}

.recipe-list { list-style: none; padding: 0; margin: 0; display: grid; gap: .6rem; }
.recipe-list a.recipe-link { font-weight: 600; text-decoration: none; }
.recipe-list .muted { color: var(--muted); }
.small { font-size: 0.9rem; }
.recipe-back {
  display: inline-flex;
  align-items: center;
  gap: 0.35rem;
  margin-bottom: 1.4rem;
}

.btn--small { padding: .3rem .55rem; border-radius: 8px; }


#app, main {
  padding-bottom: 4rem;
}

.welcome-image {
  display: block;
  max-width: 60%;
  height: auto;
  margin: 2rem auto;
  border-radius: 12px; /* optional for rounded corners */
}